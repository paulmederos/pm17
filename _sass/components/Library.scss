// ===========================================
// Library Page
// Book collection grid with cover images
// ===========================================

.Library {
  padding: 0 0 8rem;
  min-height: 100vh;
  overflow-x: hidden;
  
  @include media-md-up {
    padding: 12rem 0 10rem;
  }
}

// -----------------------------
// Book Grid
// Auto-fit columns with min/max widths
// -----------------------------
.Library__grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 1.25rem;
  width: 100%;
  max-width: 100%;
  
  @include media-sm-up {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 1.5rem;
  }
  
  @include media-md-up {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 1.75rem;
  }
  
  @include media-lg-up {
    grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
    gap: 2rem;
  }
}

// -----------------------------
// Book Card
// -----------------------------
.BookCard {
  display: flex;
  flex-direction: column;
  @include transition($type: transform, $duration: 0.25s);
  
  &:hover {
    transform: translateY(-4px);
    
    .BookCard__cover {
      box-shadow: 0 12px 40px rgba($color_dark_oak, 0.15);
    }
  }
}

// -----------------------------
// Cover Image Container
// -----------------------------
.BookCard__cover {
  position: relative;
  aspect-ratio: 2 / 3;
  border-radius: 4px;
  overflow: hidden;
  background: $color_cream;
  box-shadow: 0 4px 16px rgba($color_dark_oak, 0.1);
  @include transition($type: box-shadow, $duration: 0.25s);
  
  img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 2;
    @include transition($type: opacity, $duration: 0.3s);
  }
}

// Gradient fallback (behind image)
.BookCard__gradient {
  position: absolute;
  inset: 0;
  z-index: 1;
  
  // Subtle texture overlay for depth
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    background: 
      radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.15) 0%, transparent 50%),
      radial-gradient(ellipse at 70% 80%, rgba(0,0,0,0.08) 0%, transparent 50%);
    pointer-events: none;
  }
}

// -----------------------------
// Book Info
// -----------------------------
.BookCard__info {
  padding: 0.875rem 0.25rem 0;
}

.BookCard__title {
  font-size: $font_size_xs;
  font-weight: 500;
  line-height: 1.35;
  margin: 0 0 0.25rem;
  color: $color_dark_oak;
  
  // Truncate long titles
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  
  @include media-sm-up {
    font-size: $font_size_sm;
  }
}

.BookCard__author {
  font-family: $font_meta;
  font-size: $font_size_xxs;
  color: $color_sand;
  margin: 0;
  
  // Truncate
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

// -----------------------------
// Dark Mode
// -----------------------------
body.dark {
  .BookCard__cover {
    background: $color_wet_sand;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
    
    &:hover {
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    }
  }
  
  .BookCard__title {
    color: $color_cream;
  }
  
  .BookCard__author {
    color: rgba($color_cream, 0.6);
  }
}

